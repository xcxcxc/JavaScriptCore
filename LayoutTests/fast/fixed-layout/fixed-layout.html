<head>
<script>
window.onload = function () {
    if (!window.testRunner) {
        document.write("Test cannot be run manually.");
        return;
    }

    // Ensure layout is up to date here so that we get a resize event instead of just using
    // 200x200 as the initial size, in WebKit1 (causing the test to hang).
    document.body.offsetTop;

    testRunner.waitUntilDone();
    window.resizeTo(200, 200);
}

window.onresize = function () {
    internals.setUseFixedLayout(true);
    internals.setFixedLayoutSize(400, 400);

    testRunner.notifyDone();
}
</script>
</head>
<body style="margin: 0;">
<div style="width: 100%; height: 100%; position: absolute; background-color: green;"></div>
<div style="width: 50vw; height: 50vh; position: absolute; background-color: blue;"></div>
</body>