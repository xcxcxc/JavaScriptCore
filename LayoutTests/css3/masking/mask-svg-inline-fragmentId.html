<!DOCTYPE html>
<html>
    <head>
        <style>
            p {
                margin: 0px;
            }
            #maskedElement {
                width: 300px;
                height: 400px;
                background-color: green;
                -webkit-mask-image:url('#lowerHalf');
            }
            #redSvg {
                position: absolute;
            }
        </style>
    </head>

    <body>
        <p><a href="https://bugs.webkit.org/show_bug.cgi?id=129682">Bug 129682</a> - On success, you should see a green L shape and no red.</p>
        <p>This test references a &lt;mask&gt; element defined in the main HTML document</p>
        <svg id="redSvg" width="300px" height="400px">
            <path fill="red" d="M20,20 L60,20 L60,340 L220,340 L220,380 L20,380 L20,20"/>
            <mask id="lowerHalf" maskUnits="objectBoundingBox">
                <path fill="#FFFFFF" d="M20,20 L60,20 L60,340 L220,340 L220,380 L20,380 L20,20"/>
            </mask>
        </svg>
        <div id="maskedElement"></div>
    </body>
</html>